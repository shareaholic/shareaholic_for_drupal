parameters:
  shareaholic.settings.id: shareaholic.settings

services:
  shareaholic.api:
    class: Drupal\shareaholic\Api\ShareaholicApi
    arguments: ['@http_client', '@shareaholic.config', '@shareaholic.logger']
  shareaholic.logger:
    parent: logger.channel_base
    arguments: ['shareaholic']
  shareaholic.event_logger:
    class: Drupal\shareaholic\Logger\EventLogger
    arguments: ['@module_handler', '@theme.manager', '@database', '@shareaholic.api', '@shareaholic.config']
  shareaholic.tos_manager:
    class: Drupal\shareaholic\Helper\TOSManager
    arguments: ['@shareaholic.editable_config', '@shareaholic.event_logger']
  shareaholic.config:
    class:  \Drupal\Core\Config\ImmutableConfig
    factory: 'config.factory:get'
    arguments: ['%shareaholic.settings.id%']
  shareaholic.editable_config:
    class:  \Drupal\Core\Config\Config
    factory: 'config.factory:getEditable'
    arguments: ['%shareaholic.settings.id%']
  shareaholic.entity_manager:
    class: Drupal\shareaholic\Helper\ShareaholicEntityManager
    arguments: ['@entity_type.manager', '@entity_field.manager']
